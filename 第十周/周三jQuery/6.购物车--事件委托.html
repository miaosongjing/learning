<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        * {
            padding: 0;
            margin: 0;
            font-family: "Microsoft YaHei";
            font-size: 14px;
        }
        body,html{/*由于box和mark都是绝对定位,如果不设置宽高,body的大小为0*0*/
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        #box{
            position: absolute;
            left: 50%;
            top: 50px;
            margin-left: -50px;
            width: 100px;
            height: 30px;
            line-height: 30px;
            text-align: center;
            border: 1px solid #2489ce;
            /*background-color: green;*/
        }
        #mark{
            /*display: none;*/
            position: absolute;
            left: -1px;
            top: 30px;
            width: 300px;
            height: 100px;
            line-height: 100px;
            text-align: center;
            border:1px solid #2489ce ;
            background: pink;
        }


    </style>
</head>
<body>
    <div id="box">
        <span>购物车</span>
        <div id="mark" style="display: none;">查看购物车详细信息</div>
    </div>
<script type="text/javascript">
    //1.事件委托:利用事件的冒泡机制(触发当前元素的某个行为,其父级所有元素的相同行为都会被触发),如果一个容器中有很多元素都要绑定点击事件,不需要一个个绑定,只需要给最外层容器绑定一个点击事件即可,在这个方法执行的时候,通过事件源区分来进行不同的操作
    var mark=document.getElementById("mark");
    document.body.onclick= function (e) {
        e=e|| window.event;
        e.target= e.target|| e.srcElement;
        //如果点击的是box或box下的span,判断mark是否显示,显示的话隐藏,否则显示
        if(e.target.id==="box"|| (e.target.tagName.toLocaleLowerCase()==="span"&& e.target.parentNode.id==="box")){
            if(mark.style.display==="none"){
                mark.style.display="block";
            }else{
                mark.style.display="none";
            }
            return;
        }
        //如果事件源是mark,不进行任何操作
        if(e.target.id==="mark"){
            return;
        }
        //以上都不是,mark隐藏
        mark.style.display="none";
    };
</script>
</body>
</html>