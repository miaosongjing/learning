<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        * {
            padding: 0;
            margin: 0;
        }


    </style>
</head>
<body>
<script src="js/jquery-1.11.3.min.js" type="text/javascript"></script>
<script type="text/javascript">
    //ajax
    //jquery中的方法分为两部分:原型+类

    //jquery中的AJAX操作,配置的每一个参数都有特殊的作用,自己封装的没有它的齐全:查看jq中ajax,哪些配置参数,怎么用,完善自己的ajax库
    //AJAX
//    $.ajax({
    //        url:'data.txt',
    //        type:'get',
    //        async:false,
    //        dataType:'json',
    //        data:null,
    //        cache:false,//设定get请求时,不走缓存,原理就是在url末尾加随机数,默认是true
    //        timeout:3000,//设置超时时间,一般为3000
    //        success: function (data) {
    //            console.log(data);
    //        },
    //        error: function () {
    //            //一般不用
    //        }
    //    });
    //JSONP:jqurey在处理JSONP请求时,默认在请求地址后面传递?callback=jQuery111303201025770210577_1476157666542&_=1476157666543,这个函数是jquery自动随机创建的函数(而且末尾添加有随机数),可以理解为success后面配置的哪个匿名函数
    // jsonp都是get和异步请求,而且jquery默认为jsonp请求清楚缓存
        $.ajax({
            url:'http://localhost:86/getAll',
            dataType:'jsonp',//只需要在json后面+p
//          cache:false,//清除缓存  可以不加,因为JSONP都是get请求,jquery都会追加随机数清除缓存
            //timeout:3000,//设置超时时间,一般为3000
//            async:true,
//            data:null,
            jsonp:'cd',//设置传递函数名的属性名:不是callback,而是cd
            jsonpCallback:'fn',//设置传递给服务器的函数名:不是随机生成的那个,而是指定的fn
            success: function (result) {//result为请求回的数据
              console.log(result);
            },
//            error: function (msg) {}
        });
    //请求数据一般使用$.ajax();当服务器给的地址是同源的,用ajax请求数据;当地址是跨域的,只需要把dataType中的json换成jsonp即可

</script>
</body>
</html>